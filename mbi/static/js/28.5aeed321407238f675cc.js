webpackJsonp([28],{"0CKP":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("w4Si"),l=i("r1bD"),n={name:"btqyCharts",components:{MixNestPie:a.a},props:{chartId:{type:String,required:!0},tabName:{type:String,default:""},height:{type:String,default:"20rem"},width:{type:String,default:"100%"}},data:function(){return{myTabName:"被投企业",qyTypeOpt:[{value:"股权结构",label:"股权结构"},{value:"公司类型",label:"公司类型"},{value:"所处行业",label:"所处行业"}],btqyOpt:{},loading:!1}},computed:{selectBtqyType:{get:function(){return this.$store.getters.selectBtqyType},set:function(t){this.$store.dispatch("setSelectBtqyType",t)}}},created:function(){this.refreshBtqy()},mounted:function(){},methods:{refreshBtqy:function(){var t=this;this.loading=!0,Object(l.a)({type:this.selectBtqyType}).then(function(e){t.btqyOpt={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}个 ({d}%)"},legend:{orient:"",icon:"circle",left:"right",top:"middle",textStyle:{color:"#fff"},data:e.data[1]},series:[{name:"被投企业",type:"pie",radius:[0,"30%"],center:["35%","35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},data:e.data[0]},{name:"被投企业",type:"pie",radius:["40%","55%"],center:["35%","35%"],itemStyle:{normal:{label:{show:!0,formatter:"{c}个"},labelLine:{show:!0,length:5,length2:5}}},data:e.data[1]}]},t.loading=!1})},clickItem:function(t){this.$store.dispatch("setSelectBtqy",t.name),this.$store.dispatch("setDialogTitle","被投企业"),this.$store.dispatch("setDialogVisible",!0)}},watch:{selectBtqyType:function(t,e){var i=this;this.refreshBtqy(),this.$nextTick(function(){i.$refs.btqyType.$el.querySelector(".el-input__inner").blur()})},tabName:function(t,e){t===this.myTabName&&this.$refs.chart.resize()}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticStyle:{"text-align":"right","margin-right":"5px"}},[i("el-select",{ref:"btqyType",staticStyle:{width:"160px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.selectBtqyType,callback:function(e){t.selectBtqyType=e},expression:"selectBtqyType"}},t._l(t.qyTypeOpt,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("mix-nest-pie",{ref:"chart",attrs:{height:t.height,width:t.width,id:t.chartId,opt:t.btqyOpt,loading:t.loading},on:{up:t.clickItem}})],1)},staticRenderFns:[]},s=i("VU/8")(n,r,!1,null,null,null);e.default=s.exports}});